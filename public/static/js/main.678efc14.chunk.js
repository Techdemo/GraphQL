(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(n,e,t){n.exports=t(36)},29:function(n,e,t){},36:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(18),l=t.n(o),c=(t(29),t(9)),i=t(4),u=Object(a.createContext)();function s(n){var e=n.children,t=Object(a.useState)(null),o=Object(i.a)(t,2),l=o[0],c=o[1],s=Object(a.useState)(null),f=Object(i.a)(s,2),m=f[0],d=f[1],p=Object(a.useState)(null),g=Object(i.a)(p,2),b=g[0],h=g[1],E=Object(a.useState)(null),y=Object(i.a)(E,2),v=y[0],j=y[1];return r.a.createElement(u.Provider,{value:{tokenExpiration:b,setTokenExpiration:h,userId:m,setUserId:d,token:l,setToken:c,login:function(n){fetch("/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log("response",n),n.data.login&&(c(n.data.login.token),d(n.data.login.userId),h(n.data.login.tokenExpiration),j(n.data.login.name))})).catch((function(n){console.log(n)}))},logout:function(){c(null),d(null),h(null),j(null)},username:v}},e)}var f=function(){return Object(a.useContext)(u)},m=t(1),d=t(2);function p(){var n=Object(m.a)(["\n  font-size: 1;.5em;\n  font-family: 'Proza Libre', sans-serif;\n  font-weight: 500;\n  color: #F3D9DC;\n"]);return p=function(){return n},n}function g(){var n=Object(m.a)(["\n  color: #F3D9DC;\n  border: none;\n  font-family: 'Open Sans', sans-serif;\n  text-decoration: none;\n  font-size: 1.5em;\n  font-weight: 300;\n  background-color: #231651;\n\n  :hover {\n    cursor: pointer;\n  }\n"]);return g=function(){return n},n}function b(){var n=Object(m.a)(["\n  font-size: 2.5em;\n  font-family: 'Proza Libre', sans-serif;\n  font-weight: 500;\n  color: #F3D9DC;\n"]);return b=function(){return n},n}function h(){var n=Object(m.a)(["\n  color: #F3D9DC;\n  text-decoration: none;\n  text-indent: -20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return h=function(){return n},n}function E(){var n=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  list-style-type: none;\n  width: 100%;\n"]);return E=function(){return n},n}function y(){var n=Object(m.a)(["\n  display: flex;\n  height: 4.5em;\n  width: 25%;\n  justify-content: flex-end;\n"]);return y=function(){return n},n}function v(){var n=Object(m.a)(["\n  max-width: 100%;\n  display: flex;\n  justify-content: space-between;\n  background-color: #231651;\n  padding-left: 1.5em;\n  padding-right: 1.5em;\n  align-items: center;\n"]);return v=function(){return n},n}var j=d.a.header(v()),O=d.a.nav(y()),x=d.a.ul(E()),w=d.a.li(h()),k=d.a.h1(b()),S=d.a.button(g()),F=d.a.h2(p()),z=function(){var n=f(),e=n.token,t=n.logout,a=n.username;return r.a.createElement(j,null,r.a.createElement(k,null,"Dating App"),r.a.createElement(F,null,a),r.a.createElement(O,null,r.a.createElement(x,null,e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(c.b,{className:"navLink",to:"/users"},"Users")),r.a.createElement(w,null,r.a.createElement(c.b,{className:"navLink",to:"/account"},"My account")),r.a.createElement(w,null,r.a.createElement(S,{onClick:t},"log out"))),!e&&r.a.createElement(w,null,r.a.createElement(c.b,{className:"navLink",to:"/login"},"login")))))},C=t(8);function P(){var n=Object(m.a)(["\n  font-family: 'Open Sans', sans-serif;\n  font-size: 1.2em;\n  color: #100B00;\n  font-weight: 300;\n"]);return P=function(){return n},n}function q(){var n=Object(m.a)(["\n  font-family: 'Proza Libre', sans-serif;\n  font-size: 1.5em;\n  color: #100B00;\n  font-weight: 500;\n"]);return q=function(){return n},n}function L(){var n=Object(m.a)(["\n  padding: 1.5em;\n  display: flex;\n  flex-direction: column;\n  background-color: #E7E6F7;\n  width: 25%;\n  border-radius: 5px;\n  margin-bottom: 1.2em;\n"]);return L=function(){return n},n}function D(){var n=Object(m.a)(["\n  font-size: 2.5em;\n  font-family: 'Proza Libre', sans-serif;\n  font-weight: 500;\n  color: #100B00;\n"]);return D=function(){return n},n}function R(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin-top: 1.5em;\n"]);return R=function(){return n},n}var T=d.a.div(R()),B=d.a.h1(D()),N=d.a.div(L()),I=d.a.h3(q()),J=d.a.p(P()),M=function(){var n=Object(a.useState)([]),e=Object(i.a)(n,2),t=e[0],o=e[1];return Object(a.useEffect)((function(){fetch("/graphql",{method:"POST",body:JSON.stringify({query:"\n        query {\n          users {\n            age\n            name\n          }\n        }\n        "}),headers:{"Content-Type":"application/json"}}).then((function(n){if(200!==n.status&&201!==n.status)throw new Error("Failed!");return n.json()})).then((function(n){o(n.data.users)})).catch((function(n){console.log(n)}))}),[]),r.a.createElement(r.a.Fragment,null,console.log("users",t),r.a.createElement(B,null,"Users"),r.a.createElement(T,null,t.map((function(n,e){return r.a.createElement(N,{key:e},r.a.createElement(I,null,"Naam: ",n.name),r.a.createElement(J,null,"Leeftijd: ",n.age))}))))};function U(){var n=Object(m.a)(["\n  height: 18px;\n  margin-top: 0.5em;\n"]);return U=function(){return n},n}function A(){var n=Object(m.a)(["\n  color: red;\n  font-family: OpenSans-Regular;\n  font-size: 16px;\n  opacity: 0;\n  transition: all 0.2s linear;\n\n  ","\n"]);return A=function(){return n},n}function W(){var n=Object(m.a)(["\n  font-family: OpenSans-Regular;\n  font-size: 16px;\n  color: #100B00;\n  background: #E7E6F7;\n  border-radius: 5px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  height: 40px;\n  width: 135px;\n  text-align: center;\n  transition: linear background-color 0.2s;\n  margin-top: 0.5em;\n  margin-bottom: 0.25em;\n\n  :hover {\n    cursor: pointer;\n    background-color: #C0BDF5;\n  }\n\n  :active {\n    border: 1px solid #231651;\n  }\n"]);return W=function(){return n},n}function $(){var n=Object(m.a)(["\n  border: 0;\n  outline: 0;\n  background: transparent;\n  border-bottom: 1px solid #E7E6F7;\n  padding: 0.75em 1.25em;\n  font-size: 16px;\n  font-family: OpenSans-Regular;\n  transition: all 0.2s ease-in;\n  width: 100%;\n\n  :focus {\n    outline: none;\n    background: transparent;\n    border-bottom: 1px solid #231651;\n  }\n\n"]);return $=function(){return n},n}function G(){var n=Object(m.a)(["\n  margin-right: 1em;\n  font-family: OpenSans-Regular;\n  font-size: 16px;\n  color: #100B00;\n"]);return G=function(){return n},n}function H(){var n=Object(m.a)(["\n  display: flex;\n  align-content: flex-end;\n"]);return H=function(){return n},n}function K(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  min-height: 450px;\n  max-width: 500px;\n"]);return K=function(){return n},n}function Q(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  min-height: 250px;\n  max-width: 500px;\n"]);return Q=function(){return n},n}var V=d.a.form(Q()),X=d.a.form(K()),Y=d.a.fieldset(H()),Z=d.a.label(G()),_=d.a.input($()),nn=d.a.button(W()),en=d.a.p(A(),(function(n){return n.active&&"\n    opacity: 1;\n"})),tn=d.a.div(U()),an=function(){var n=Object(a.useState)(!1),e=Object(i.a)(n,2),t=e[0],o=e[1],l=Object(a.useRef)(""),c=Object(a.useRef)(""),u=f().login;return r.a.createElement(r.a.Fragment,null,r.a.createElement(tn,null,r.a.createElement(en,{active:t},"*Please fill in all of the form fields")),r.a.createElement(V,{onSubmit:function(n){n.preventDefault();var e=l.current.value.trim(),t=c.current.value.trim();if(0===e.length||0===t.length)return o(!0),void setTimeout((function(){return o(!1)}),2e3);var a={query:'\n        query {\n          login (email:"'.concat(e,'", password: "').concat(t,'") {\n            token\n            userId\n            tokenExpiration\n            name\n          }\n        }\n      ')};u(a)}},r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"email"},"E-mail:"),r.a.createElement(_,{type:"email",id:"email",ref:l})),r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"password"},"Password:"),r.a.createElement(_,{type:"password",id:"password",ref:c})),r.a.createElement(Y,null,r.a.createElement(nn,{type:"submit"},"Login"))))},rn=function(){var n=Object(a.useState)(!1),e=Object(i.a)(n,2),t=e[0],o=e[1],l=Object(a.useRef)(""),c=Object(a.useRef)(""),u=Object(a.useRef)(""),s=Object(a.useRef)(""),m=Object(a.useRef)(""),d=f().login;return r.a.createElement(r.a.Fragment,null,r.a.createElement(tn,null,r.a.createElement(en,{active:t},"*Please fill in all of the form fields")),r.a.createElement(X,{onSubmit:function(n){n.preventDefault();var e=l.current.value.trim(),t=c.current.value.trim(),a=u.current.value.trim(),r=s.current.value.trim(),i=m.current.value.trim();if(0===e.length||0===t.length||0===a.length||0===r.length||0===i.length)return o(!0),void setTimeout((function(){return o(!1)}),2e3);var f={query:'\n          mutation {\n            createUser(userInput: {email: "'.concat(e,'", name: "').concat(i,'", password: "').concat(t,'", age: ').concat(r,', city: "').concat(a,'"}) {\n              id\n              email\n            }\n          }\n        ')};fetch("/graphql",{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json"}}).then((function(n){if(200===n.status)return n.json();throw new Error("Sukkel",Error)})).then((function(n){var a={query:'\n            query {\n              login (email:"'.concat(e,'", password: "').concat(t,'") {\n                token\n                userId\n                tokenExpiration\n                name\n              }\n            }\n          ')};d(a)})).catch((function(n){console.log(n),alert(n)}))}},r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"name"},"First Name"),r.a.createElement(_,{type:"name",id:"name",ref:m})),r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"email"},"E-mail"),r.a.createElement(_,{type:"email",id:"email",ref:l})),r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"password"},"password"),r.a.createElement(_,{type:"password",id:"password",ref:c})),r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"city"},"City"),r.a.createElement(_,{type:"text",id:"city",ref:u})),r.a.createElement(Y,null,r.a.createElement(Z,{htmlFor:"age"},"age"),r.a.createElement(_,{type:"number",id:"age",ref:s})),r.a.createElement(Y,null,r.a.createElement(nn,{type:"submit"},"Signup"))))};function on(){var n=Object(m.a)(["\n  font-family: OpenSans-Regular;\n  font-size: 16px;\n  color: #100B00;\n  text-decoration: underline;\n  outline: none;\n  border: none;\n  text-align: center;\n  transition: ease-in background-color 0.2s;\n\n  :hover {\n    cursor: pointer;\n    background-color: #E7E6F7;\n  }\n"]);return on=function(){return n},n}function ln(){var n=Object(m.a)(["\n  font-family: ProzaLibre-Medium;\n  font-size: 48px;\n  color: #100B00;\n"]);return ln=function(){return n},n}var cn=d.a.h1(ln()),un=d.a.button(on()),sn=function(){var n=Object(a.useState)(!0),e=Object(i.a)(n,2),t=e[0],o=e[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(cn,null,t?"Login":"Create account"),t?r.a.createElement(an,null):r.a.createElement(rn,null),r.a.createElement(un,{onClick:function(){return o(!t)}},"I want to ",t?"create an account":"login to my account"," "))};function fn(){var n=Object(m.a)(["\n   font-family: ProzaLibre-Medium;\n   font-size: 16px;\n"]);return fn=function(){return n},n}function mn(){var n=Object(m.a)(["\n  list-style-type: none;\n  text-indent: -20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  min-height: 150px;\n"]);return mn=function(){return n},n}function dn(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin-top: 1.5em;\n"]);return dn=function(){return n},n}function pn(){var n=Object(m.a)(["\n  font-family: ProzaLibre-Medium;\n  font-size: 48px;\n  color: #100B00;\n"]);return pn=function(){return n},n}var gn=d.a.h1(pn()),bn=d.a.div(dn()),hn=d.a.ul(mn()),En=d.a.li(fn()),yn=function(){var n=r.a.useState(""),e=Object(i.a)(n,2),t=e[0],o=e[1],l=f().userId;return Object(a.useEffect)((function(){var n={query:'\n        query {\n          user(id: "'.concat(l,'") {\n            age\n            name\n            city\n          }\n        }\n        ')};fetch("http://localhost:3001/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(n){if(200===n.status)return n.json();throw new Error("Sukkel")})).then((function(n){o(n.data.user)}))}),[l]),console.log("user",t),r.a.createElement(bn,null,r.a.createElement(gn,null,"My Account"),t?r.a.createElement(hn,null,r.a.createElement(En,null,"Name: ",t.name),r.a.createElement(En,null,"Age: ",t.age),r.a.createElement(En,null,"City: ",t.city)):r.a.createElement("p",null,"loading"))},vn=function(){var n=f().token,e=r.a.useState(null),t=Object(i.a)(e,2),a=t[0],o=t[1];return r.a.useEffect((function(){o(n)}),[n]),r.a.createElement("main",null,r.a.createElement(C.d,null,a&&r.a.createElement(C.a,{from:"/",to:"/users",exact:!0}),a&&r.a.createElement(C.a,{from:"/login",to:"/users",exact:!0}),!a&&r.a.createElement(C.a,{from:"/users",to:"/login",exact:!0}),!a&&r.a.createElement(C.a,{from:"/account",to:"/login",exact:!0}),!a&&r.a.createElement(C.b,{path:"/login",component:sn}),r.a.createElement(C.b,{path:"/account",component:yn}),r.a.createElement(C.b,{path:"/users",component:M}),!a&&r.a.createElement(C.a,{to:"/login",exact:!0})))};var jn=function(){return r.a.createElement(c.a,null,r.a.createElement(s,null,r.a.createElement(z,null),r.a.createElement(vn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.678efc14.chunk.js.map